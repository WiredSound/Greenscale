<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Greenscale: TurnManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Greenscale
   </div>
   <div id="projectbrief">A turn-based sci-fi roguelike drawing inspiration from Cogmind and Caves of Qud.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_turn_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TurnManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The game is of course turn-based so it is the role of the <a class="el" href="class_turn_manager.html" title="The game is of course turn-based so it is the role of the TurnManager class is to handle the turn sys...">TurnManager</a> class is to handle the turn system.  
 <a href="class_turn_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_turn_manager_8h_source.html">TurnManager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a42640634f2a80a6090f33f7d18c85efb"><td class="memItemLeft" align="right" valign="top"><a id="a42640634f2a80a6090f33f7d18c85efb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TurnManager</b> (<a class="el" href="class_camera.html">Camera</a> &amp;gameCamera)</td></tr>
<tr class="separator:a42640634f2a80a6090f33f7d18c85efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e5327ed014684a1a98857c79bc3fb8"><td class="memItemLeft" align="right" valign="top"><a id="aa6e5327ed014684a1a98857c79bc3fb8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>update</b> (<a class="el" href="class_input.html">Input</a> &amp;input, std::unique_ptr&lt; <a class="el" href="class_game_map.html">GameMap</a> &gt; &amp;map)</td></tr>
<tr class="separator:aa6e5327ed014684a1a98857c79bc3fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d6c472258e602bca6f6b7bddc6b4071"><td class="memItemLeft" align="right" valign="top"><a id="a9d6c472258e602bca6f6b7bddc6b4071"></a>
std::shared_ptr&lt; <a class="el" href="class_entity.html">Entity</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getCurrentEntity</b> ()</td></tr>
<tr class="separator:a9d6c472258e602bca6f6b7bddc6b4071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45bdb4876326a946a99d11296afc789"><td class="memItemLeft" align="right" valign="top"><a id="ac45bdb4876326a946a99d11296afc789"></a>
const std::vector&lt; std::shared_ptr&lt; <a class="el" href="class_entity.html">Entity</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getCurrentEntities</b> ()</td></tr>
<tr class="separator:ac45bdb4876326a946a99d11296afc789"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The game is of course turn-based so it is the role of the <a class="el" href="class_turn_manager.html" title="The game is of course turn-based so it is the role of the TurnManager class is to handle the turn sys...">TurnManager</a> class is to handle the turn system. </p>
<p>It takes a <a class="el" href="class_game_map.html" title="The GameMap is were all map information (such as entities present, tiles and projectiles) is stored a...">GameMap</a> reference in its update function and then fetches all the entities present on that map. Each turn for an entity is split into several distinct phases:</p><ol type="1">
<li>First, the entity's Entity::yourTurnBegin method is called once.</li>
<li>Next, Entity::yourTurnDecision is called which in turn calls upon the entity's controller. This method is called every frame until true is returned which indicates that the controller has at that point decided what the entity will do this turn.</li>
<li>The next method called by the turn manager is Entity::yourTurnCurrently which is where the entity actually carries out their action (whether that may be attacking, moving, etc). This is again called continually until true is returned.</li>
<li>Finally, the entity's Entity::yourTurnEnd method is called once before the turn manager moves on to the next entity.</li>
</ol>
<p>Note that although this class is called <a class="el" href="class_turn_manager.html" title="The game is of course turn-based so it is the role of the TurnManager class is to handle the turn sys...">TurnManager</a>, it does not inherit from <a class="el" href="class_manager.html" title="Manager is a class template that is designed to make the loading of tiles, projectiles, entities, components and component upgrades from JSON files easier. ">Manager</a>. It is for that reason that I may ultimately change the name of this class (perhaps to <code>TurnHandler</code> or <code>TurnDistributor</code>?) </p>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_turn_manager_8h_source.html">TurnManager.h</a></li>
<li>src/TurnManager.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
